{% extends "base.html" %}
{% load static %}

{% block extra_head %}
{# Page-specific CSS or JS ONLY if required #}
{% endblock %}

{% block content %}

<!-- hero section -->
<section
  id="hero-section"
  class="hero-overlay d-flex align-items-center text-light position-relative"
  style="min-height: 85vh; position: relative;"
>
  <img 
    src="{{ home.hero_image.url }}" 
    alt="{{ home.hero_image_alt_text }}"
    class="w-100 h-100 position-absolute top-0 start-0" 
    style="object-fit: cover; z-index: 1;"
  >

  <div class="container position-relative" style="z-index: 2;">
    <div class="row">
      <div class="col-lg-7">

        <h1 class="fw-bold display-3 mb-4">
            {{ home.hero_title}}
        </h1>

        <p class="fw-bold lead mb-4 fs-5">
          {{ home.hero_subheading }}
        </p>

        <div class="d-flex gap-3">
          <a href="{% url 'products' %}" class="btn btn-light btn-lg" aria-label="visit the shop">
            Shop now
          </a>
        </div>

      </div>
    </div>
  </div>
</section>

<!-- Featured Products Section -->
<section class="featured-products py-5">
    <div class="container">

        <!-- Section header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="display-5 fw-bold mb-0 text-end">
                Featured Products
            </h2>

            <a href="{% url 'products' %}" class="text-link">
                View all <i class="bi bi-arrow-right ms-1"></i>
            </a>
        </div>

        <!-- Products grid -->
        <div class="row g-4">

            {% for product in featured_products|slice:":4" %}
                {% include "_product_card.html" with product=product %}
            {% empty %}
                <p class="text-center">No featured products available at the moment.</p>
            {% endfor %}
        </div>

    </div>
</section>

{% for section in home.feature_sections.all %}
<section class="feature-overlay position-relative overflow-hidden" style="height: 700px;">
    <!-- Full-width image -->
    <img src="{{ section.image.url }}"
         alt="{{ section.image_alt_text }}"
         class="w-100 h-100 object-fit-cover position-absolute top-0 start-0"
         style="z-index: 1;">

    <!-- Content overlay -->
    <div class="container h-100 position-relative" style="z-index: 2;">
        <div class="row h-100 align-items-center">
            <div class="col-12 col-lg-6
                {% if forloop.counter|divisibleby:2 %}
                    ms-auto text-lg-end
                {% else %}
                    text-lg-start
                {% endif %}
            ">
                <div class="px-4 px-lg-5 py-3 bg-white bg-opacity-75 rounded-3 shadow"
                     style="max-width: 520px;">
                    <h2 class="display-5 fw-bold mb-3">{{ section.title }}</h2>
                    <p class="fs-5 text-secondary mb-4">{{ section.subheading }}</p>
                    {% if section.cta_url and section.cta_text %}
                    <a href="{{ section.cta_url }}"
                       class="btn btn-primary btn-lg rounded-pill shadow-sm">
                        {{ section.cta_text }}
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>
{% endfor %}





<!-- Best Sellers Section -->
<section class="best-sellers py-5">
    <div class="container">

        <!-- Section header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="display-5 fw-bold mb-0 text-end">
                Best Sellers
            </h2>

            <a href="{% url 'products' %}" class="text-link">
                View all <i class="bi bi-arrow-right ms-1"></i>
            </a>
        </div>

        <!-- Products grid -->
        <div class="row g-4">

            {% for product in best_sellers|slice:":4" %}
                {% include "_product_card.html" with product=product %}
            {% empty %}
                <p class="text-center">No best sellers available at the moment.</p>
            {% endfor %}
        </div>

    </div>
</section>

{% endblock %}
